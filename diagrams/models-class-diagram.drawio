<mxfile host="app.diagrams.net">
  <diagram name="Models">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- User and related -->
        <mxCell id="UserModel" value="UserModel&#xa;&#xa;- userId: Long&#xa;- firstName: String&#xa;- lastName: String&#xa;- middleName: String&#xa;- email: String&#xa;- passwordHash: String&#xa;- role: RoleModel&#xa;- registrationDate: LocalDate&#xa;- imageUrl: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="60" width="240" height="260" as="geometry"/>
        </mxCell>
        <mxCell id="RoleModel" value="RoleModel&#xa;&#xa;- roleId: Long&#xa;- roleName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="60" width="180" height="160" as="geometry"/>
        </mxCell>
        <mxCell id="UserSettingsModel" value="UserSettingsModel&#xa;&#xa;- userSettingsId: Long&#xa;- user: UserModel&#xa;- theme: String&#xa;- itemsPerPage: Integer&#xa;- dateFormat: String&#xa;- savedFilters: String&#xa;- createdAt: LocalDateTime&#xa;- updatedAt: LocalDateTime&#xa;+ onCreate()&#xa;+ onUpdate()&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="340" width="260" height="280" as="geometry"/>
        </mxCell>

        <!-- Course / Category -->
        <mxCell id="CourseModel" value="CourseModel&#xa;&#xa;- courseId: Long&#xa;- title: String&#xa;- description: String&#xa;- teacher: UserModel&#xa;- price: BigDecimal&#xa;- courseStatus: CourseStatusModel&#xa;- category: CategoryModel&#xa;- imageUrl: String&#xa;- capacity: Integer&#xa;- startDate: LocalDate&#xa;- endDate: LocalDate&#xa;- enrolledCount: Integer (transient)&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="40" width="280" height="300" as="geometry"/>
        </mxCell>
        <mxCell id="CourseStatusModel" value="CourseStatusModel&#xa;&#xa;- courseStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="970" y="40" width="200" height="160" as="geometry"/>
        </mxCell>
        <mxCell id="CategoryModel" value="CategoryModel&#xa;&#xa;- categoryId: Long&#xa;- name: String&#xa;- description: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="970" y="220" width="200" height="180" as="geometry"/>
        </mxCell>

        <!-- Lesson -->
        <mxCell id="LessonModel" value="LessonModel&#xa;&#xa;- lessonId: Long&#xa;- course: CourseModel&#xa;- title: String&#xa;- content: String&#xa;- attachedFile: String&#xa;- lessonStatus: LessonStatusModel&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="380" width="240" height="220" as="geometry"/>
        </mxCell>
        <mxCell id="LessonStatusModel" value="LessonStatusModel&#xa;&#xa;- lessonStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="890" y="380" width="200" height="160" as="geometry"/>
        </mxCell>

        <!-- Task -->
        <mxCell id="TaskModel" value="TaskModel&#xa;&#xa;- taskId: Long&#xa;- lesson: LessonModel&#xa;- title: String&#xa;- description: String&#xa;- deadline: LocalDate&#xa;- attachedFile: String&#xa;- taskStatus: TaskStatusModel&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="640" width="240" height="240" as="geometry"/>
        </mxCell>
        <mxCell id="TaskStatusModel" value="TaskStatusModel&#xa;&#xa;- taskStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="890" y="620" width="200" height="160" as="geometry"/>
        </mxCell>

        <!-- Solution / Grade -->
        <mxCell id="SolutionModel" value="SolutionModel&#xa;&#xa;- solutionId: Long&#xa;- task: TaskModel&#xa;- user: UserModel&#xa;- answerText: String&#xa;- answerFile: String&#xa;- submitDate: LocalDate&#xa;- solutionStatus: SolutionStatusModel&#xa;- grade: GradeModel&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="60" width="260" height="260" as="geometry"/>
        </mxCell>
        <mxCell id="SolutionStatusModel" value="SolutionStatusModel&#xa;&#xa;- solutionStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1470" y="60" width="210" height="160" as="geometry"/>
        </mxCell>
        <mxCell id="GradeModel" value="GradeModel&#xa;&#xa;- gradeId: Long&#xa;- gradeValue: Integer&#xa;- feedback: String&#xa;- solution: SolutionModel&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1470" y="240" width="210" height="200" as="geometry"/>
        </mxCell>

        <!-- Enrollment -->
        <mxCell id="EnrollmentModel" value="EnrollmentModel&#xa;&#xa;- enrollmentId: Long&#xa;- user: UserModel&#xa;- course: CourseModel&#xa;- date: LocalDate&#xa;- enrollmentDate: LocalDate&#xa;- enrollmentStatus: EnrollmentStatusModel&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="360" width="260" height="220" as="geometry"/>
        </mxCell>
        <mxCell id="EnrollmentStatusModel" value="EnrollmentStatusModel&#xa;&#xa;- enrollmentStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1470" y="470" width="210" height="160" as="geometry"/>
        </mxCell>

        <!-- Comments -->
        <mxCell id="CommentModel" value="CommentModel&#xa;&#xa;- commentId: Long&#xa;- user: UserModel&#xa;- lesson: LessonModel&#xa;- task: TaskModel&#xa;- parentComment: CommentModel&#xa;- text: String&#xa;- createdAt: LocalDateTime&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="620" width="260" height="240" as="geometry"/>
        </mxCell>

        <!-- Certificates -->
        <mxCell id="CertificateModel" value="CertificateModel&#xa;&#xa;- certificateId: Long&#xa;- user: UserModel&#xa;- course: CourseModel&#xa;- certificateStatus: CertificateStatusModel&#xa;- certificateNumber: String&#xa;- issueDate: LocalDate&#xa;- filePath: String&#xa;- documentFile: String&#xa;- emailSent: Boolean&#xa;- emailSentDate: LocalDate&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="660" width="300" height="260" as="geometry"/>
        </mxCell>
        <mxCell id="CertificateStatusModel" value="CertificateStatusModel&#xa;&#xa;- certificateStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="700" width="220" height="160" as="geometry"/>
        </mxCell>

        <!-- Payments -->
        <mxCell id="CheckModel" value="CheckModel&#xa;&#xa;- checkId: Long&#xa;- user: UserModel&#xa;- course: CourseModel&#xa;- amount: BigDecimal&#xa;- paymentDate: LocalDate&#xa;- paymentStatus: PaymentStatusModel&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="360" width="260" height="220" as="geometry"/>
        </mxCell>
        <mxCell id="PaymentStatusModel" value="PaymentStatusModel&#xa;&#xa;- paymentStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="560" width="220" height="160" as="geometry"/>
        </mxCell>

        <!-- Gift Cards -->
        <mxCell id="GiftCardModel" value="GiftCardModel&#xa;&#xa;- giftCardId: Long&#xa;- cardNumber: String&#xa;- code: String&#xa;- balance: BigDecimal&#xa;- amount: BigDecimal&#xa;- issueDate: LocalDate&#xa;- expiryDate: LocalDate&#xa;- user: UserModel&#xa;- course: CourseModel&#xa;- giftCardStatus: GiftCardStatusModel&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="900" width="280" height="260" as="geometry"/>
        </mxCell>
        <mxCell id="GiftCardStatusModel" value="GiftCardStatusModel&#xa;&#xa;- giftCardStatusId: Long&#xa;- statusName: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="900" width="220" height="160" as="geometry"/>
        </mxCell>

        <!-- File -->
        <mxCell id="FileModel" value="FileModel&#xa;&#xa;- id: Long&#xa;- originalName: String&#xa;- filePath: String&#xa;- fileSize: Long&#xa;- contentType: String&#xa;- uploadedBy: UserModel&#xa;- uploadDate: LocalDateTime&#xa;- description: String&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="900" width="260" height="240" as="geometry"/>
        </mxCell>

        <!-- Password reset -->
        <mxCell id="PasswordResetToken" value="PasswordResetToken&#xa;&#xa;- tokenId: Long&#xa;- token: String&#xa;- user: UserModel&#xa;- expiryDate: LocalDateTime&#xa;- used: Boolean&#xa;+ isExpired()&#xa;+ getters/setters" style="swimlane;fontSize=12;align=left;verticalAlign=top;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1230" y="900" width="260" height="220" as="geometry"/>
        </mxCell>

        <!-- Edges -->
        <mxCell id="e1" edge="1" parent="1" source="UserModel" target="RoleModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e2" edge="1" parent="1" source="UserSettingsModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e3" edge="1" parent="1" source="CourseModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e4" edge="1" parent="1" source="CourseModel" target="CourseStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e5" edge="1" parent="1" source="CourseModel" target="CategoryModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e6" edge="1" parent="1" source="LessonModel" target="CourseModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e7" edge="1" parent="1" source="LessonModel" target="LessonStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e8" edge="1" parent="1" source="TaskModel" target="LessonModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e9" edge="1" parent="1" source="TaskModel" target="TaskStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e10" edge="1" parent="1" source="SolutionModel" target="TaskModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e11" edge="1" parent="1" source="SolutionModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e12" edge="1" parent="1" source="SolutionModel" target="SolutionStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e13" edge="1" parent="1" source="SolutionModel" target="GradeModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e14" edge="1" parent="1" source="EnrollmentModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e15" edge="1" parent="1" source="EnrollmentModel" target="CourseModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e16" edge="1" parent="1" source="EnrollmentModel" target="EnrollmentStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e17" edge="1" parent="1" source="CommentModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e18" edge="1" parent="1" source="CommentModel" target="LessonModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e19" edge="1" parent="1" source="CommentModel" target="TaskModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e20" edge="1" parent="1" source="CommentModel" target="CommentModel" style="endArrow=block;strokeWidth=1.5;loop=1;"/>
        <mxCell id="e21" edge="1" parent="1" source="CertificateModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e22" edge="1" parent="1" source="CertificateModel" target="CourseModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e23" edge="1" parent="1" source="CertificateModel" target="CertificateStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e24" edge="1" parent="1" source="CheckModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e25" edge="1" parent="1" source="CheckModel" target="CourseModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e26" edge="1" parent="1" source="CheckModel" target="PaymentStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e27" edge="1" parent="1" source="GiftCardModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e28" edge="1" parent="1" source="GiftCardModel" target="CourseModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e29" edge="1" parent="1" source="GiftCardModel" target="GiftCardStatusModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e30" edge="1" parent="1" source="FileModel" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
        <mxCell id="e31" edge="1" parent="1" source="PasswordResetToken" target="UserModel" style="endArrow=block;strokeWidth=1.5;"/>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>



